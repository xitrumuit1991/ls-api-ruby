!function(e){var t;e.filters=t={options:{regional:{datePicker:{dateFormat:"mm/dd/yy"}}},append:function(t,l,i,n,s,a,o){var d="f["+l+"]["+o+"][v]",c="f["+l+"]["+o+"][o]";switch(i){case"boolean":var p='<select class="input-sm form-control" name="'+d+'"><option value="_discard">...</option><option value="true"'+("true"==n?'selected="selected"':"")+">"+RailsAdmin.I18n.t("true")+'</option><option value="false"'+("false"==n?'selected="selected"':"")+">"+RailsAdmin.I18n.t("false")+'</option><option disabled="disabled">---------</option><option '+("_present"==n?'selected="selected"':"")+' value="_present">'+RailsAdmin.I18n.t("is_present")+"</option><option "+("_blank"==n?'selected="selected"':"")+' value="_blank"  >'+RailsAdmin.I18n.t("is_blank")+"</option></select>";break;case"date":case"datetime":case"timestamp":var p='<select class="switch-additionnal-fieldsets input-sm form-control" name="'+c+'"><option '+("default"==s?'selected="selected"':"")+' data-additional-fieldset="default" value="default">'+RailsAdmin.I18n.t("date")+"</option><option "+("between"==s?'selected="selected"':"")+' data-additional-fieldset="between" value="between">'+RailsAdmin.I18n.t("between_and_")+"</option><option "+("today"==s?'selected="selected"':"")+' value="today">'+RailsAdmin.I18n.t("today")+"</option><option "+("yesterday"==s?'selected="selected"':"")+' value="yesterday">'+RailsAdmin.I18n.t("yesterday")+"</option><option "+("this_week"==s?'selected="selected"':"")+' value="this_week">'+RailsAdmin.I18n.t("this_week")+"</option><option "+("last_week"==s?'selected="selected"':"")+' value="last_week">'+RailsAdmin.I18n.t("last_week")+'</option><option disabled="disabled">---------</option><option '+("_not_null"==s?'selected="selected"':"")+' value="_not_null">'+RailsAdmin.I18n.t("is_present")+"</option><option "+("_null"==s?'selected="selected"':"")+' value="_null" >'+RailsAdmin.I18n.t("is_blank")+"</option></select>",r='<input class="date additional-fieldset default input-sm form-control" style="display:'+(s&&"default"!=s?"none":"inline-block")+';" type="text" name="'+d+'[]" value="'+(n[0]||"")+'" /> <input placeholder="-\u221e" class="date additional-fieldset between input-sm form-control" style="display:'+("between"==s?"inline-block":"none")+';" type="text" name="'+d+'[]" value="'+(n[1]||"")+'" /> <input placeholder="\u221e" class="date additional-fieldset between input-sm form-control" style="display:'+("between"==s?"inline-block":"none")+';" type="text" name="'+d+'[]" value="'+(n[2]||"")+'" />';break;case"enum":var u=n instanceof Array?!0:!1,p='<select style="display:'+(u?"none":"inline-block")+'" '+(u?"":'name="'+d+'"')+' data-name="'+d+'" class="select-single input-sm form-control"><option value="_discard">...</option><option '+("_present"==n?'selected="selected"':"")+' value="_present">'+RailsAdmin.I18n.t("is_present")+"</option><option "+("_blank"==n?'selected="selected"':"")+' value="_blank">'+RailsAdmin.I18n.t("is_blank")+'</option><option disabled="disabled">---------</option>'+a+'</select><select multiple="multiple" style="display:'+(u?"inline-block":"none")+'" '+(u?'name="'+d+'[]"':"")+' data-name="'+d+'[]" class="select-multiple input-sm form-control">'+a+'</select> <a href="#" class="switch-select"><i class="icon-'+(u?"minus":"plus")+'"></i></a>';break;case"string":case"text":case"belongs_to_association":var p='<select class="switch-additionnal-fieldsets input-sm form-control" value="'+s+'" name="'+c+'"><option data-additional-fieldset="additional-fieldset"'+("like"==s?'selected="selected"':"")+' value="like">'+RailsAdmin.I18n.t("contains")+'</option><option data-additional-fieldset="additional-fieldset"'+("is"==s?'selected="selected"':"")+' value="is">'+RailsAdmin.I18n.t("is_exactly")+'</option><option data-additional-fieldset="additional-fieldset"'+("starts_with"==s?'selected="selected"':"")+' value="starts_with">'+RailsAdmin.I18n.t("starts_with")+'</option><option data-additional-fieldset="additional-fieldset"'+("ends_with"==s?'selected="selected"':"")+' value="ends_with">'+RailsAdmin.I18n.t("ends_with")+'</option><option disabled="disabled">---------</option><option '+("_not_null"==s?'selected="selected"':"")+' value="_not_null">'+RailsAdmin.I18n.t("is_present")+"</option><option "+("_null"==s?'selected="selected"':"")+' value="_null">'+RailsAdmin.I18n.t("is_blank")+"</option></select>",r='<input class="additional-fieldset input-sm form-control" style="display:'+("_blank"==s||"_present"==s?"none":"inline-block")+';" type="text" name="'+d+'" value="'+n+'" /> ';break;case"integer":case"decimal":case"float":var p='<select class="switch-additionnal-fieldsets input-sm form-control" name="'+c+'"><option '+("default"==s?'selected="selected"':"")+' data-additional-fieldset="default" value="default">'+RailsAdmin.I18n.t("number")+"</option><option "+("between"==s?'selected="selected"':"")+' data-additional-fieldset="between" value="between">'+RailsAdmin.I18n.t("between_and_")+'</option><option disabled="disabled">---------</option><option '+("_not_null"==s?'selected="selected"':"")+' value="_not_null">'+RailsAdmin.I18n.t("is_present")+"</option><option "+("_null"==s?'selected="selected"':"")+' value="_null" >'+RailsAdmin.I18n.t("is_blank")+"</option></select>",r='<input class="additional-fieldset default input-sm form-control" style="display:'+(s&&"default"!=s?"none":"inline-block")+';" type="'+i+'" name="'+d+'[]" value="'+(n[0]||"")+'" /> <input placeholder="-\u221e" class="additional-fieldset between input-sm form-control" style="display:'+("between"==s?"inline-block":"none")+';" type="'+i+'" name="'+d+'[]" value="'+(n[1]||"")+'" /> <input placeholder="\u221e" class="additional-fieldset between input-sm form-control" style="display:'+("between"==s?"inline-block":"none")+';" type="'+i+'" name="'+d+'[]" value="'+(n[2]||"")+'" />';break;default:var p='<input type="text" class="input-sm form-control" name="'+d+'" value="'+n+'"/> '}var f='<p class="filter form-search"><span class="label label-info form-label"><a href="#" class="delete"><i class="icon-trash icon-white"></i></a> '+t+"</span> "+p+" "+(r||"")+"</p> ";e("#filters_box").append(f),e("#filters_box .date").datepicker(this.options.regional.datePicker),e("hr.filters_box:hidden").show("slow")}},e(document).on("click","#filters a",function(t){t.preventDefault(),e.filters.append(e(this).data("field-label"),e(this).data("field-name"),e(this).data("field-type"),e(this).data("field-value"),e(this).data("field-operator"),e(this).data("field-options"),e.now().toString().slice(6,11))}),e(document).on("click","#filters_box .delete",function(t){t.preventDefault(),form=e(this).parents("form"),e(this).parents(".filter").remove(),!e("#filters_box").children().length&&e("hr.filters_box:visible").hide("slow")}),e(document).on("click","#filters_box .switch-select",function(t){t.preventDefault();var l=e(this).siblings("select:visible"),i=e(this).siblings("select:hidden");i.attr("name",i.data("name")).show("slow"),l.attr("name",null).hide("slow"),e(this).find("i").toggleClass("icon-plus icon-minus")}),e(document).on("change","#filters_box .switch-additionnal-fieldsets",function(t){var l=e(this).find("option:selected");(klass=e(l).data("additional-fieldset"))?(e(this).siblings(".additional-fieldset:not(."+klass+")").hide("slow"),e(this).siblings("."+klass).show("slow")):e(this).siblings(".additional-fieldset").hide("slow")})}(jQuery);